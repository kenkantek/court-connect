jQuery(document).ready(function(e){e("div.dataTables_filter").append('<a id="btnAddUser" class="btn btn-flat btn-primary pull-right"> New User</a>'),e("#btnAddUser").click(function(r){return e("#box-form-create").removeClass("hidden"),e("#box-form-edit").addClass("hidden"),!1}),e("#btnUserSubmit").click(function(r){var s={};return s.fullname=e("#fullname").val(),s.email=e("#email").val(),s.password=e("#password").val(),s.is_admin=e("#is_admin:checked").val(),e.ajax({url:laroute.route("users.create.post"),type:"POST",data:s,success:function(r,s){r.error?showNotice("error",r.message,"Error!"):(window.oTable.draw(!1),showNotice("success",r.message,"Success!"),e(".form-group").removeClass("has-error"),e("#form-user").get(0).reset(),e.uniform.update(e("#is_admin")))},error:function(r){e.each(r.responseJSON,function(r,s){e("#"+r).closest(".form-group").addClass("has-error"),showNotice("error",s,"Error!")})}}),!1}),e("#btnUserEdit").click(function(r){var s={};return s.fullname=e("#fullname-edit").val(),s.email=e("#email-edit").val(),s.password=e("#password-edit").val(),s.is_admin=e("#is_admin-edit:checked").val(),s.id=e("#user_id").val(),e.ajax({url:laroute.route("users.edit.post"),type:"POST",data:s,success:function(r,s){r.error?showNotice("error",r.message,"Error!"):(window.oTable.draw(!1),showNotice("success",r.message,"Success!"),e(".form-group").removeClass("has-error"),e("#form-user").get(0).reset(),e.uniform.update(e("#is_admin")))},error:function(r){e.each(r.responseJSON,function(r,s){e("#"+r+"-edit").closest(".form-group").addClass("has-error"),showNotice("error",s,"Error!")})}}),!1}),e("#datatables").on("click","tr",function(){e("#box-form-edit").removeClass("hidden"),e("#box-form-create").addClass("hidden"),e(this).find("tr.selected").removeClass("selected"),e(this).addClass("selected"),e(this).find(".td:nth-child(1)").val();var r=e(this).find("td:nth-child(1)").text(),s=e(this).find("td:nth-child(2)").text(),t=e(this).find("td:nth-child(2) span").data("id"),a=e(this).find("td:nth-child(3)").text();e("#fullname-edit").val(r),e("#email-edit").val(s),e("#user_id").val(t),"Yes"==a?(e("#is_admin-edit").prop("checked",!0),e.uniform.update(e("#is_admin-edit"))):(e("#is_admin-edit").prop("checked",!1),e.uniform.update(e("#is_admin-edit")))}),e(document).on("click","#btnUserDelete",function(r){r.preventDefault(),e("#delete-crud-entry").data("id",e("#user_id").val()),e("#delete-crud-modal").modal("show")}),e("#delete-crud-entry").on("click",function(r){r.preventDefault(),e("#delete-crud-modal").modal("hide");var s=e(this).data("id");e.ajax({url:laroute.route("users.delete")+"/"+s,type:"GET",success:function(e,r){e.error?showNotice("error",e.message,"Error!"):(window.oTable.draw(!1),showNotice("success",e.message,"Success!"))},error:function(e){showNotice("error",e.responseJSON.message,"Error!")}})})});